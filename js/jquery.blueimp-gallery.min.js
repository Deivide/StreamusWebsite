!function(a){"function"==typeof define&&define.amd?define(["./blueimp-helper"],a):(window.blueimp=window.blueimp||{},window.blueimp.Gallery=a(window.blueimp.helper||window.jQuery))}(function(b){function a(d,c){return d&&d.length&&void 0!==document.body.style.maxHeight?this&&this.options===a.prototype.options?(this.list=d,this.num=d.length,this.initOptions(c),this.initialize(),void 0):new a(d,c):!1}return b.extend(a.prototype,{options:{container:"#blueimp-gallery",slidesContainer:"div",titleElement:"h3",displayClass:"blueimp-gallery-display",controlsClass:"blueimp-gallery-controls",singleClass:"blueimp-gallery-single",leftEdgeClass:"blueimp-gallery-left",rightEdgeClass:"blueimp-gallery-right",playingClass:"blueimp-gallery-playing",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",typeProperty:"type",titleProperty:"title",urlProperty:"href",clearSlides:!0,stretchImages:!1,toggleControlsOnReturn:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!0,closeOnSlideClick:!0,closeOnSwipeUpOrDown:!0,emulateTouchEvents:!0,hidePageScrollbars:!0,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5000,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,event:void 0,onopen:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0},carouselOptions:{hidePageScrollbars:!1,toggleControlsOnReturn:!1,toggleSlideshowOnSpace:!1,enableKeyboardNavigation:!1,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,disableScroll:!1,startSlideshow:!0},support:function(c){var d,k,g,h={touch:void 0!==window.ontouchstart||window.DocumentTouch&&document instanceof DocumentTouch},f={webkitTransition:{end:"webkitTransitionEnd",prefix:"-webkit-"},MozTransition:{end:"transitionend",prefix:"-moz-"},OTransition:{end:"otransitionend",prefix:"-o-"},transition:{end:"transitionend",prefix:""}},j=function(){document.body.appendChild(c),k&&(d=k.name.slice(0,-9)+"ransform",void 0!==c.style[d]&&(c.style[d]="translateZ(0)",g=window.getComputedStyle(c).getPropertyValue(k.prefix+"transform"),h.transform={prefix:k.prefix,name:d,translate:!0,translateZ:!!g&&"none"!==g})),void 0!==c.style.backgroundSize&&(c.style.backgroundSize="contain",h.backgroundSize={contain:"contain"===window.getComputedStyle(c).getPropertyValue("background-size")}),document.body.removeChild(c)};for(d in f){if(f.hasOwnProperty(d)&&void 0!==c.style[d]){k=f[d],k.name=d,h.transition=k;break}}return document.body?j():b(document).on("DOMContentLoaded",j),h}(document.createElement("div")),initialize:function(){return this.initStartIndex(),this.initWidget()===!1?!1:(this.initEventListeners(),this.options.onopen&&this.options.onopen.call(this),this.onslide(this.index),this.ontransitionend(),this.options.startSlideshow&&this.play(),void 0)},slide:function(j,c){window.clearTimeout(this.timeout);var d,h,f,g=this.index;if(g!==j&&1!==this.num){if(c||(c=this.options.transitionSpeed),this.support.transition){for(this.options.continuous||(j=this.circle(j)),d=Math.abs(g-j)/(g-j),this.options.continuous&&(h=d,d=-this.positions[this.circle(j)]/this.slideWidth,d!==h&&(j=-d*this.num+j)),f=Math.abs(g-j)-1;f;){f-=1,this.move(this.circle((j>g?j:g)-f-1),this.slideWidth*d,0)}j=this.circle(j),this.move(g,this.slideWidth*d,c),this.move(j,0,c),this.options.continuous&&this.move(this.circle(j-d),-(this.slideWidth*d),0)}else{j=this.circle(j),this.animate(g*-this.slideWidth,j*-this.slideWidth,c)}this.onslide(j)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(c){window.clearTimeout(this.timeout),this.interval=c||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=this.setTimeout(this.slide,[this.index+1,this.options.slideshowTransitionSpeed],this.interval)),this.container.addClass(this.options.playingClass)},pause:function(){window.clearTimeout(this.timeout),this.interval=null,this.container.removeClass(this.options.playingClass)},add:function(d){var c;for(this.list=this.list.concat(d),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this.container.removeClass(this.options.leftEdgeClass)),this.container.removeClass(this.options.rightEdgeClass).removeClass(this.options.singleClass),c=this.num-d.length;c<this.num;c+=1){this.addSlide(c),this.positionSlide(c)}this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.slides=[]},close:function(){var c=this.options;this.destroyEventListeners(),this.pause(),this.container[0].style.display="none",this.container.removeClass(c.displayClass).removeClass(c.singleClass).removeClass(c.leftEdgeClass).removeClass(c.rightEdgeClass),c.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclose&&this.options.onclose.call(this)},circle:function(c){return(this.num+c%this.num)%this.num},move:function(f,c,d){this.translateX(f,c,d),this.positions[f]=c},translate:function(k,c,d,j){var g=this.slides[k].style,h=this.support.transition,f=this.support.transform;g[h.name+"Duration"]=j+"ms",g[f.name]="translate("+c+"px, "+d+"px)"+(f.translateZ?" translateZ(0)":"")},translateX:function(f,c,d){this.translate(f,c,0,d)},translateY:function(f,c,d){this.translate(f,0,c,d)},animate:function(j,c,d){if(!d){return this.slidesContainer[0].style.left=c+"px",void 0}var h=this,f=(new Date).getTime(),g=window.setInterval(function(){var e=(new Date).getTime()-f;return e>d?(h.slidesContainer[0].style.left=c+"px",h.ontransitionend(),window.clearInterval(g),void 0):(h.slidesContainer[0].style.left=(c-j)*(Math.floor(100*(e/d))/100)+j+"px",void 0)},4)},preventDefault:function(c){c.preventDefault?c.preventDefault():c.returnValue=!1},onresize:function(){this.initSlides(!0)},onmousedown:function(c){c.which&&1===c.which&&(c.preventDefault(),(c.originalEvent||c).touches=[{pageX:c.pageX,pageY:c.pageY}],this.ontouchstart(c))},onmousemove:function(c){this.touchStart&&((c.originalEvent||c).touches=[{pageX:c.pageX,pageY:c.pageY}],this.ontouchmove(c))},onmouseup:function(c){this.touchStart&&(this.ontouchend(c),delete this.touchStart)},onmouseout:function(c){if(this.touchStart){var d=c.target,f=c.relatedTarget;(!f||f!==d&&!b.contains(d,f))&&this.onmouseup(c)}},ontouchstart:function(d){var c=(d.originalEvent||d).touches[0];this.touchStart={x:c.pageX,y:c.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(j){var c,d,h=(j.originalEvent||j).touches[0],f=(j.originalEvent||j).scale,g=this.index;if(!(h.length>1||f&&1!==f)){if(this.options.disableScroll&&j.preventDefault(),this.touchDelta={x:h.pageX-this.touchStart.x,y:h.pageY-this.touchStart.y},c=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(c)<Math.abs(this.touchDelta.y)),this.isScrolling){this.options.closeOnSwipeUpOrDown&&this.translateY(g,this.touchDelta.y+this.positions[g],0)}else{for(j.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?d=[this.circle(g+1),g,this.circle(g-1)]:(this.touchDelta.x=c/=!g&&c>0||g===this.num-1&&0>c?Math.abs(c)/this.slideWidth+1:1,d=[g],g&&d.push(g-1),g<this.num-1&&d.unshift(g+1));d.length;){g=d.pop(),this.translateX(g,c+this.positions[g],0)}}}},ontouchend:function(){var y,k,p,x,u,v=this.index,q=this.options.transitionSpeed,w=this.slideWidth,f=Number(Date.now()-this.touchStart.time)<250,m=f&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>w/2,j=!v&&this.touchDelta.x>0||v===this.num-1&&this.touchDelta.x<0,g=!m&&this.options.closeOnSwipeUpOrDown&&(f&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(j=!1),y=this.touchDelta.x<0?-1:1,this.isScrolling?g?this.close():this.translateY(v,0,q):m&&!j?(k=v+y,p=v-y,x=w*y,u=-w*y,this.options.continuous?(this.move(this.circle(k),x,0),this.move(this.circle(v-2*y),u,0)):k>=0&&k<this.num&&this.move(k,x,0),this.move(v,this.positions[v]+x,q),this.move(this.circle(p),this.positions[this.circle(p)]+x,q),v=this.circle(p),this.onslide(v)):this.options.continuous?(this.move(this.circle(v-1),-w,q),this.move(v,0,q),this.move(this.circle(v+1),w,q)):(v&&this.move(v-1,-w,q),this.move(v,0,q),v<this.num-1&&this.move(v+1,w,q))},ontransitionend:function(d){var c=this.slides[this.index];d&&c!==d.target||(this.interval&&this.play(),this.setTimeout(this.options.onslideend,[this.index,c]))},oncomplete:function(c){var d,g=c.target||c.srcElement,f=g&&g.parentNode;g&&f&&(d=this.getNodeIndex(f),b(f).removeClass(this.options.slideLoadingClass),"error"===c.type?(b(f).addClass(this.options.slideErrorClass),this.elements[d]=3):this.elements[d]=2,g.clientHeight>this.container[0].clientHeight&&(g.style.maxHeight=this.container[0].clientHeight),this.interval&&this.slides[this.index]===f&&this.play(),this.setTimeout(this.options.onslidecomplete,[d,f]))},onload:function(c){this.oncomplete(c)},onerror:function(c){this.oncomplete(c)},onkeydown:function(c){switch(c.which||c.keyCode){case 13:this.options.toggleControlsOnReturn&&(this.preventDefault(c),this.toggleControls());break;case 27:this.options.closeOnEscape&&this.close();break;case 32:this.options.toggleSlideshowOnSpace&&(this.preventDefault(c),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(this.preventDefault(c),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(this.preventDefault(c),this.next())}},handleClick:function(c){var d=this.options,h=c.target||c.srcElement,f=h.parentNode,g=function(i){return b(h).hasClass(i)||b(f).hasClass(i)};f===this.slidesContainer[0]?(this.preventDefault(c),d.closeOnSlideClick?this.close():this.toggleControls()):f.parentNode&&f.parentNode===this.slidesContainer[0]?(this.preventDefault(c),this.toggleControls()):g(d.toggleClass)?(this.preventDefault(c),this.toggleControls()):g(d.prevClass)?(this.preventDefault(c),this.prev()):g(d.nextClass)?(this.preventDefault(c),this.next()):g(d.closeClass)?(this.preventDefault(c),this.close()):g(d.playPauseClass)&&(this.preventDefault(c),this.toggleSlideshow())},onclick:function(c){return this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)?(delete this.touchDelta,void 0):this.handleClick(c)},updateEdgeClasses:function(c){c?this.container.removeClass(this.options.leftEdgeClass):this.container.addClass(this.options.leftEdgeClass),c===this.num-1?this.container.addClass(this.options.rightEdgeClass):this.container.removeClass(this.options.rightEdgeClass)},handleSlide:function(c){this.options.continuous||this.updateEdgeClasses(c),this.loadElements(c),this.options.unloadElements&&this.unloadElements(c),this.setTitle(c)},onslide:function(c){this.index=c,this.handleSlide(c),this.setTimeout(this.options.onslide,[c,this.slides[c]])},setTitle:function(f){var c=this.slides[f].firstChild.title,d=this.titleElement;d.length&&(this.titleElement.empty(),c&&d[0].appendChild(document.createTextNode(c)))},setTimeout:function(g,c,d){var f=this;return g&&window.setTimeout(function(){g.apply(f,c||[])},d||0)},imageFactory:function(g,k){var u,p,q,m=this,t=this.imagePrototype.cloneNode(!1),c=g,j=this.options.stretchImages&&this.support.backgroundSize&&this.support.backgroundSize.contain,f=function(d){if(!u){if(d={type:d.type,target:p},!p.parentNode){return m.setTimeout(f,[d])}u=!0,b(t).off("load error",f),j&&"load"===d.type&&(p.style.background='url("'+c+'") center no-repeat',p.style.backgroundSize="contain"),k(d)}};return"string"!=typeof c&&(c=this.getItemProperty(g,this.options.urlProperty),q=this.getItemProperty(g,this.options.titleProperty)),j?p=this.elementPrototype.cloneNode(!1):(p=t,t.draggable=!1),q&&(p.title=q),b(t).on("load error",f),t.src=c,p},createElement:function(c,d){var h=c&&this.getItemProperty(c,this.options.typeProperty),f=h&&this[h.split("/")[0]+"Factory"]||this.imageFactory,g=c&&f.call(this,c,d);return g||(g=this.elementPrototype.cloneNode(!1),this.setTimeout(d,[{type:"error",target:g}])),b(g).addClass(this.options.slideContentClass),g},loadElement:function(c){this.elements[c]||(this.slides[c].firstChild?this.elements[c]=b(this.slides[c]).hasClass(this.options.slideErrorClass)?3:2:(this.elements[c]=1,b(this.slides[c]).addClass(this.options.slideLoadingClass),this.slides[c].appendChild(this.createElement(this.list[c],this.proxyListener))))},loadElements:function(g){var c,d=Math.min(this.num,2*this.options.preloadRange+1),f=g;for(c=0;d>c;c+=1){f+=c*(0===c%2?-1:1),f=this.circle(f),this.loadElement(f)}},unloadElements:function(g){var c,d,f;for(c in this.elements){this.elements.hasOwnProperty(c)&&(f=Math.abs(g-c),f>this.options.preloadRange&&f+this.options.preloadRange<this.num&&(d=this.slides[c],d.removeChild(d.firstChild),delete this.elements[c]))}},addSlide:function(d){var c=this.slidePrototype.cloneNode(!1);c.setAttribute("data-index",d),this.slidesContainer[0].appendChild(c),this.slides.push(c)},positionSlide:function(d){var c=this.slides[d];c.style.width=this.slideWidth+"px",this.support.transition&&(c.style.left=d*-this.slideWidth+"px",this.move(d,this.index>d?-this.slideWidth:this.index<d?this.slideWidth:0,0))},initSlides:function(c){var d,f;for(c||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),b(this.slidePrototype).addClass(this.options.slideClass),this.slides=this.slidesContainer[0].children,d=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this.container[0].offsetWidth,this.slideHeight=this.container[0].offsetHeight,this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",d&&this.resetSlides(),f=0;f<this.num;f+=1){d&&this.addSlide(f),this.positionSlide(f)}this.options.continuous&&this.support.transition&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0)),this.support.transition||(this.slidesContainer[0].style.left=this.index*-this.slideWidth+"px")},toggleControls:function(){var c=this.options.controlsClass;this.container.hasClass(c)?this.container.removeClass(c):this.container.addClass(c)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(c){return parseInt(c.getAttribute("data-index"),10)},getNestedProperty:function(d,c){return c.replace(/\[(?:'([^']+)'|"([^"]+)"|(\d+))\]|(?:(?:^|\.)([^\.\[]+))/g,function(f,g,m,j,k){var h=k||g||m||j&&parseInt(j,10);f&&d&&(d=d[h])}),d},getItemProperty:function(d,c){return d[c]||d.getAttribute&&d.getAttribute("data-"+c)||this.getNestedProperty(d,c)},initStartIndex:function(){var f,c=this.options.index,d=this.options.urlProperty;if(c&&"number"!=typeof c){for(f=0;f<this.num;f+=1){if(this.list[f]===c||this.getItemProperty(this.list[f],d)===this.getItemProperty(c,d)){c=f;break}}}this.index=this.circle(parseInt(c,10)||0)},initEventListeners:function(){var c=this,d=this.slidesContainer,f=function(g){var e=c.support.transition&&c.support.transition.end===g.type?"transitionend":g.type;c["on"+e](g)};b(window).on("resize",f),b(document.body).on("keydown",f),this.container.on("click",f),this.support.touch?d.on("touchstart touchmove touchend",f):this.options.emulateTouchEvents&&this.support.transition&&d.on("mousedown mousemove mouseup mouseout",f),this.support.transition&&d.on(this.support.transition.end,f),this.proxyListener=f},destroyEventListeners:function(){var c=this.slidesContainer,d=this.proxyListener;b(window).off("resize",d),b(document.body).off("keydown",d),this.container.off("click",d),this.support.touch?c.off("touchstart touchmove touchend",d):this.options.emulateTouchEvents&&this.support.transition&&c.off("mousedown mousemove mouseup mouseout",d),this.support.transition&&c.off(this.support.transition.end,d)},initWidget:function(){return this.container=b(this.options.container),this.container.length?(this.slidesContainer=this.container.find(this.options.slidesContainer),this.slidesContainer.length?(this.titleElement=this.container.find(this.options.titleElement),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),1===this.num&&this.container.addClass(this.options.singleClass),this.container[0].style.display="block",this.initSlides(),this.container.addClass(this.options.displayClass),void 0):!1):!1},initOptions:function(c){this.options=b.extend({},this.options),(c&&c.carousel||this.options.carousel&&(!c||c.carousel!==!1))&&b.extend(this.options,this.carouselOptions),b.extend(this.options,c),this.num<3&&(this.options.continuous=this.options.continuous?null:!1),this.support.transition||(this.options.emulateTouchEvents=!1),this.options.event&&this.preventDefault(this.options.event)}}),a}),function(a){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(d,a){d.extend(a.prototype.options,{fullScreen:!1});var b=a.prototype.initialize,c=a.prototype.close;return d.extend(a.prototype,{getFullScreenElement:function(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement},requestFullScreen:function(e){e.requestFullscreen?e.requestFullscreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.mozRequestFullScreen&&e.mozRequestFullScreen()},exitFullScreen:function(){document.exitFullscreen?document.exitFullscreen():document.webkitCancelFullScreen?document.webkitCancelFullScreen():document.mozCancelFullScreen&&document.mozCancelFullScreen()},initialize:function(){b.call(this),this.options.fullScreen&&!this.getFullScreenElement()&&this.requestFullScreen(this.container[0])},close:function(){this.getFullScreenElement()===this.container[0]&&this.exitFullScreen(),c.call(this)}}),a}),function(a){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(j,a){j.extend(a.prototype.options,{indicatorContainer:"ol",activeIndicatorClass:"active",thumbnailProperty:"thumbnail",thumbnailIndicators:!0});var b=a.prototype.initSlides,h=a.prototype.addSlide,d=a.prototype.resetSlides,f=a.prototype.handleClick,c=a.prototype.handleSlide,g=a.prototype.close;return j.extend(a.prototype,{createIndicator:function(k){var m,t,q=this.indicatorPrototype.cloneNode(!1),r=this.getItemProperty(k,this.options.titleProperty),p=this.options.thumbnailProperty;return this.options.thumbnailIndicators&&(t=k.getElementsByTagName&&j(k).find("img")[0],t?m=t.src:p&&(m=this.getItemProperty(k,p)),m&&(q.style.backgroundImage='url("'+m+'")')),r&&(q.title=r),q},addIndicator:function(k){if(this.indicatorContainer.length){var i=this.createIndicator(this.list[k]);i.setAttribute("data-index",k),this.indicatorContainer[0].appendChild(i),this.indicators.push(i)}},setActiveIndicator:function(i){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),this.activeIndicator=j(this.indicators[i]),this.activeIndicator.addClass(this.options.activeIndicatorClass))},initSlides:function(e){e||(this.indicatorContainer=this.container.find(this.options.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),b.call(this,e)},addSlide:function(e){h.call(this,e),this.addIndicator(e)},resetSlides:function(){d.call(this),this.indicatorContainer.empty(),this.indicators=[]},handleClick:function(m){var k=m.target||m.srcElement,l=k.parentNode;if(l===this.indicatorContainer[0]){this.preventDefault(m),this.slide(this.getNodeIndex(k))}else{if(l.parentNode!==this.indicatorContainer[0]){return f.call(this,m)}this.preventDefault(m),this.slide(this.getNodeIndex(l))}},handleSlide:function(e){c.call(this,e),this.setActiveIndicator(e)},close:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.activeIndicatorClass),g.call(this)}}),a}),function(a){"function"==typeof define&&define.amd?define(["./blueimp-helper","./blueimp-gallery"],a):a(window.blueimp.helper||window.jQuery,window.blueimp.Gallery)}(function(b,a){return b.extend(a.prototype.options,{videoContentClass:"video-content",videoLoadingClass:"video-loading",videoPlayingClass:"video-playing",videoPosterProperty:"poster",videoSourcesProperty:"sources"}),a.prototype.videoFactory=function(t,A){var H,D,E,B,G,j=this,z=this.options,q=this.elementPrototype.cloneNode(!1),k=b(q),I=[{type:"error",target:q}],F=document.createElement("video"),C=this.getItemProperty(t,z.urlProperty),x=this.getItemProperty(t,z.typeProperty),w=this.getItemProperty(t,z.titleProperty),K=this.getItemProperty(t,z.videoPosterProperty),J=this.getItemProperty(t,z.videoSourcesProperty);if(k.addClass(z.videoContentClass),w&&(q.title=w),F.canPlayType){if(C&&x&&F.canPlayType(x)){F.src=C}else{if(J){for("string"==typeof J&&(J=b.parseJSON(J));J&&J.length;){if(D=J.shift(),C=this.getItemProperty(D,z.urlProperty),x=this.getItemProperty(D,z.typeProperty),C&&x&&F.canPlayType(x)){F.src=C;break}}}}}return K&&(F.setAttribute("poster",K),H=this.imagePrototype.cloneNode(!1),b(H).addClass(z.toggleClass),H.src=K,H.draggable=!1,q.appendChild(H)),E=document.createElement("a"),E.setAttribute("target","_blank"),E.setAttribute("download",w),E.href=C,F.src&&(F.controls=!0,b(F).on("error",function(){j.setTimeout(A,I)}).on("pause",function(){B=!1,k.removeClass(j.options.videoLoadingClass).removeClass(j.options.videoPlayingClass),G&&j.container.addClass(j.options.controlsClass),j.interval&&j.play()}).on("playing",function(){B=!1,k.removeClass(j.options.videoLoadingClass).addClass(j.options.videoPlayingClass),j.container.hasClass(j.options.controlsClass)?(G=!0,j.container.removeClass(j.options.controlsClass)):G=!1}).on("play",function(){window.clearTimeout(j.timeout),B=!0,k.addClass(j.options.videoLoadingClass)}),b(E).on("click",function(c){c.preventDefault(),B?F.pause():F.play()}),q.appendChild(F)),q.appendChild(E),this.setTimeout(A,[{type:"load",target:q}]),q},a}),function(a){"function"==typeof define&&define.amd?define(["jquery","./blueimp-gallery.js"],a):a(window.jQuery,window.blueimp.Gallery)}(function(b,a){b(document.body).on("click","[data-gallery]",function(c){var h=b(this).data("gallery"),e=b(h),f=e.length&&e||b(a.prototype.options.container),d=b.extend(f.data(),{container:f[0],index:this,event:c,onopen:function(){f.data("gallery",this).trigger("open",arguments)},onslide:function(){f.trigger("slide",arguments)},onslideend:function(){f.trigger("slideend",arguments)},onslidecomplete:function(){f.trigger("slidecomplete",arguments)},onclose:function(){f.trigger("close").removeData("gallery")}}),g=b('[data-gallery="'+h+'"]');return d.filter&&(g=g.filter(d.filter)),new a(g,d)})});