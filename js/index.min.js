$(function(){var b=Backbone.View.extend({el:$("body"),navigationItems:$("ul.nav li"),events:{"click .logoWrapper a":"goHome","click *[data-contentid]":"clicked","change #donationAmountSelect":"toggleCustomDonateVisibility","submit #donateForm":"updateFormAndSubmit"},installButton:new InstallButtonView,initialize:function(){var c=this.$el.find('ul.nav li a[href="'+window.location.hash+'"]');if(c.length>0){this.showViewBasedOnListItem(c.parent())}var e=this;window.onhashchange=function(){var f=$.trim(window.location.hash);if(f!==""){e.showContentBasedOnHash(f)}else{e.showContentBasedOnHash("#home")}};var d=$.trim(window.location.hash);if(d!==""){this.showContentBasedOnHash(d)}},showContentBasedOnHash:function(c){var d=null;switch(c){case"#home":d=this.$el.find('[data-contentid="homeContent"]');break;case"#getting-started":d=this.$el.find('[data-contentid="gettingStartedContent"]');break;case"#about":d=this.$el.find('[data-contentid="aboutContent"]');break;case"#contact":d=this.$el.find('[data-contentid="contactContent"]');break;case"#donate":d=this.$el.find('[data-contentid="donateContent"]');break;case"#terms-of-use":d=this.$el.find('[data-contentid="touContent"]');break;case"#privacy":d=this.$el.find('[data-contentid="privacyContent"]');break;default:console.error("Unhandled hash:",window.location.hash);break}this.showViewBasedOnListItem(d)},clicked:function(e){var d=$(e.currentTarget);var c=d.data("contentid");switch(c){case"homeContent":location.replace("#home");break;case"gettingStartedContent":location.replace("#getting-started");break;case"aboutContent":location.replace("#about");break;case"contactContent":location.replace("#contact");break;case"donateContent":location.replace("#donate");break;case"touContent":location.replace("#terms-of-use");break;case"privacyContent":location.replace("#privacy");break;default:console.error("Unhandled contentId:",c)}},showViewBasedOnListItem:function(d){this.$el.find(".active").removeClass("active");var c=d.data("contentid");d.addClass("active");$(".content").hide();$("#"+c).show()},goHome:function(){this.navigationItems.first().click()},toggleCustomDonateVisibility:function(d){var c=$(d.currentTarget);var e=parseInt(c.val(),10);if(e===-1){$("#customDonationAmount").show()}else{$("#customDonationAmount").hide()}},updateFormAndSubmit:function(e){var g=$("#currencySelect").val();var d;var c=$("#customDonationAmount");if(c.is(":visible")){d=parseInt(c.val(),10)}else{d=parseInt($("#donationAmountSelect").text(),10)}var f=$(e.currentTarget);f.find('input[name="currency_code"]').val(g);f.find('input[name="amount"]').val(d)}});var a=new b;blueimp.Gallery($("#links a"),{container:"#blueimp-gallery-carousel",carousel:true})});